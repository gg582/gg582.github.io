// Import Core Clean Blog SCSS
@import "../assets/vendor/startbootstrap-clean-blog/scss/styles.scss";

// AI Refactoring: Import variable overrides first
@import "refactor-vars";

// AI Refactoring: Import custom styles and layout overrides
@import "refactor-styles";

// Knowledge Base System: East Asian Scholarly Layout
@import "knowledge-base";
@import "category-layout";

/* 
 * Custom Typography: 
 * Strengthening bold text where the global default is too thin.
 */
b, strong {
    font-weight: 800 !important;
}



/*
 * Custom Font Overrides
 * UI & Display Font: DaeguBukseongro
 * Code Font: Inconsolata (with M PLUS 1p fallback) - Limited to code blocks
 */

@font-face {
    font-family: 'DaeguBukseongro';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2511-1@1.0/DaeguBukseongro-Light.woff2') format('woff2');
    font-weight: 300;
    font-display: swap;
}

@font-face {
    font-family: 'DaeguBukseongro';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/2511-1@1.0/DaeguBukseongro-ExtraBold.woff2') format('woff2');
    font-weight: 800;
    font-display: swap;
}

$ui-font-stack: 'DaeguBukseongro', 'Pretendard', 'M PLUS 1p', sans-serif;
$display-font-stack: 'DaeguBukseongro', 'Pretendard', 'M PLUS 1p', sans-serif;

body, p, a, .caption, blockquote {
    font-family: $ui-font-stack !important;
}

h1, h2, h3, h4, h5, h6,
.section-heading,
.post-title,
.masthead .site-heading h1,
.masthead .page-heading h1,
.masthead .post-heading h1,
.masthead .subheading,
.masthead .meta,
.site-heading .subheading,
.page-heading .subheading,
.post-heading .subheading,
#mainNav,
#mainNav .navbar-brand,
#mainNav .navbar-nav .nav-link,
.navbar-brand,
.navbar-nav .nav-link {
    font-family: $display-font-stack !important;
}

/* Rounded Code Blocks & Font */
pre, .highlight {
    border-radius: 10px !important;
    /* Ensure the background clipping respects the border radius if there's a background color */
    overflow: hidden; 
    font-family: 'Inconsolata', 'M PLUS 1p', monospace !important;
    /* Theme-independent Code Block Styles */
    background-color: #111116; /* Dark gray background */
    color: #f8f8f2; /* Light text color */
    border: 1px solid #4a4a4a; /* Consistent border */
    padding: 1em;
    overflow-x: auto; /* Enable horizontal scrolling for long lines */
}

/* Fix double background: remove from outer wrapper divs/figures that contain pre */
div.highlight, figure.highlight {
    background: transparent !important;
    padding: 0 !important;
    border: none !important;
    overflow: visible !important;
}

/* Targeting code inside blocks to ensure they inherit or use the specific font */
pre code, .highlight code, .highlight .w {
    font-family: 'Inconsolata', 'M PLUS 1p', monospace !important;
    color: #f8f8f2; /* Ensure code text is light */
}

/* Syntax Highlighting Colors (adjust as needed for a good contrast on dark background) */
.highlight .c1, .highlight .c, .highlight .cm { /* Comments */
    color: #75715e;
}
.highlight .p { /* Punctuation */
    color: #f8f8f2;
}
.highlight .k, .highlight .kc, .highlight .kd, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kt, .highlight .nb { /* Keywords */
    color: #66d9ef;
}
.highlight .s, .highlight .s1, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .dl { /* Strings */
    color: #a6e22e;
}
.highlight .mi, .highlight .il, .highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .mo, .highlight .mx { /* Numbers */
    color: #ae81ff;
}
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi, .highlight .vm { /* Variables */
    color: #f8f8f2;
}

/*
 * Adaptive Masthead Text Color
 * Based on background image brightness, detected by JavaScript.
 */
.masthead.light-bg .site-heading h1,
.masthead.light-bg .page-heading h1,
.masthead.light-bg .post-heading h1,
.masthead.light-bg .subheading,
.masthead.light-bg .meta {
  color: #1A1A1A; /* Dark text for light backgrounds */
}

.masthead.dark-bg .site-heading h1,
.masthead.dark-bg .page-heading h1,
.masthead.dark-bg .post-heading h1,
.masthead.dark-bg .subheading,
.masthead.dark-bg .meta {
  color: #fff; /* White text for dark backgrounds */
}


/*
 * Dark Mode Styles
 */
body.dark-mode {
  background-color: #232328;
  color: #f1f1f1;

  p, li, span, div {
    color: #f1f1f1;
  }

  hr {
    border-color: #4a4a4a;
  }

  h1, h2, h3, h4, h5, h6, .section-heading {
    color: #f1f1f1;
  }

  a {
    color: #6e9bf3;
  }
  a:hover, a:focus {
    color: #4e7bf3;
  }

  blockquote {
    color: #b0b0b0;
    border-left-color: #4a4a4a;
  }

  .post-preview > a {
    color: #f1f1f1;
  }
  .post-preview > a:hover, .post-preview > a:focus {
    color: #f1f1f1;
  }
  .post-preview > a > .post-title {
    color: #f1f1f1;
  }
  .post-preview > .post-meta {
    color: #b0b0b0;
  }
  .post-preview > .post-meta a {
    color: #b0b0b0;
  }
  .post-preview > .post-meta a:hover, .post-preview > .post-meta a:focus {
    color: #80bfff;
  }



  footer {
    background-color: #232328;
    border-top: 1px solid #4a4a4a;
  }
  footer .list-inline .list-inline-item a {
    // Remove color setting for the anchor tag to prevent it from affecting the icons
  }
  footer .list-inline .list-inline-item a:hover, footer .list-inline .list-inline-item a:focus {
    // Remove color setting for the anchor tag to prevent it from affecting the icons
  }
  footer .list-inline .list-inline-item .fa-stack .fa-circle {
    color: #333; /* Dark gray for the circle background in dark mode */
  }
  footer .list-inline .list-inline-item .fa-stack .fa-inverse {
    color: #fff; /* White for the icon in dark mode */
  }
  footer .copyright {
    color: #b0b0b0;
  }

  .floating-label-form-group {
    border-bottom-color: #4a4a4a !important;
  }

  .floating-label-form-group-with-value label {
    color: #80bfff !important;
  }

  .floating-label-form-group input,
  .floating-label-form-group textarea {
    color: #f1f1f1;
  }

  .btn-primary {
    background-color: #6e9bf3;
    border-color: #4e6bf3;
  }
  .btn-primary:hover, .btn-primary:focus, .btn-primary:active {
    background-color: #80bfff !important;
    border-color: #80bfff !important;
  }

  .toc {
    background: #34495E;
    border: 1px solid #4a4a4a;
  }
  .toc h4 {
    border-bottom: 1px solid #4a4a4a;
  }
  .toc ul {
    color: #f1f1f1;
  }




} // Closing brace for body.dark-mode

footer .list-inline .fa-stack .fa-circle {
  color: #333; /* Dark gray for the circle background */
}

footer .list-inline .fa-stack .fa-inverse {
  color: #fff; /* White for the icon */
}

#theme-toggle {
  cursor: pointer;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

/* Overall container settings */
.theme-switch-wrapper {
  display: flex;
  align-items: center;
  gap: 10px;
}

.theme-switch {
  display: inline-block;
  height: 34px;
  position: relative;
  width: 80px; /* Set a bit wider to accommodate text */
}

.theme-switch input {
  display: none;
}

/* Slider background */
.slider {
  background-color: #333; /* Background when in default (Light) state */
  bottom: 0;
  cursor: pointer;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  transition: .4s;
  border-radius: 34px;
}

/* Text written on the background (Light/Dark) */
.slider:before {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 12px;
  font-family: sans-serif;
  font-weight: bold;
  color: white;
  transition: .4s;
}

/* Default state (when left): Display 'Dark' on the right margin */
.slider:before {
  content: "⬤";
  right: 10px;
}

/* Moving circular button */
.slider:after {
  background-color: #fff;
  bottom: 4px;
  content: "";
  height: 26px;
  left: 4px;
  position: absolute;
  transition: .4s;
  width: 26px;
  border-radius: 50%;
}

/* Disable transitions when the no-transition class is present on body */
body.no-transition,
body.no-transition * {
  transition: none !important;
}

/* When checked (shifted to the right) */
input:checked + .slider {
  background-color: #2196F3;
}

/* When shifted to the right: Display 'Light' on the left margin */
input:checked + .slider:before {
  content: "◯";
  left: 10px;
  right: auto;
}

/* Button movement */
input:checked + .slider:after {
  transform: translateX(46px);
}
